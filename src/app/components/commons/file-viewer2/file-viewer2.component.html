<div class="container">
  <!-- File Upload Section -->
  <div class="row mb-2">
    <div class="col-12 text-center">
      <div class="mb-2" style="width: fit-content; display: flex; justify-content: space-between; align-items: center;">
        <!-- File Input and Button -->
        <div class="input-group me-3">
          <label class="input-group-text btn btn-outline" style="background-color: #452dd6; color: white" for="templateFile">Browse...</label>
          <input
            type="file"
            id="templateFile"
            name="templateFile"
            class="form-control d-none"
            (change)="onHtmlUpload($event)"
          />
          <input
            type="text"
            class="form-control"
            id="fileName"
            placeholder="No file chosen"
            readonly
          />
        </div>

        <!-- Device Selection -->
        <div class="me-3 " style="width: 500px;">
         
          <select 
            id="deviceSelect" 
            class="form-select" 
            (change)="setDevice($event)"
          >
            <option *ngFor="let device of devices; index as i" [value]="i">
              {{ device.name }}
            </option>
          </select>
        </div>

        <!-- Custom Dimensions -->
        <div>
       
          <div class="input-group">
            <input 
              type="number" 
              [(ngModel)]="customWidth" 
              class="form-control" 
              placeholder="Width" 
              (input)="updateDeviceStyles()" 
            />
            <span class="input-group-text">x</span>
            <input 
              type="number" 
              [(ngModel)]="customHeight" 
              class="form-control" 
              placeholder="Height" 
              (input)="updateDeviceStyles()" 
            />
            <span class="input-group-text">px</span>
          </div>
        </div>
      </div>
    </div>
  </div>

  <!-- Preview Section -->
  <div 
    class="preview-container position-relative mx-auto" 
    [ngStyle]="deviceStyles" 
    *ngIf="safeHtmlContent"
  >
    <div class="container border p-4 shadow rounded bg-white" style="height: 100%; overflow-y: scroll;">
      <div>
        <header class="d-flex justify-content-between align-items-center mb-3">
          <h5>Subject : Subject Displays Here!!</h5>
          <button class="btn btn-sm btn-link text-decoration-none">Unsubscribe</button>
        </header>
      </div>

      <!-- Resizable Preview Frame -->
      <div class="preview-frame" style="text-align: left !important;" [innerHTML]="safeHtmlContent"></div>

      <!-- Resizing Handle -->
      <div class="resize-handle" (mousedown)="onResizeStart($event)"></div>
    </div>
  </div>
</div>
