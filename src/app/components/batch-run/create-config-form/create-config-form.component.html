<div class="channel-details-page pb-3 ">
  <div class="container">
    <!-- Message Alerts -->
    <div class="text-center">
      <span class="successmsg" id="config_msg"></span>
      <span class="errormsg" id="config_err"></span>
      <span id="serverSideConfirm"></span>
      <span id="msg"></span>
    </div>

    <div id="configform">
      <!-- Title -->
      <div class="title-bar mb-3">
        <h2 class="main-title text-left">Configuration Form:</h2>
      </div>

      <div class="detail-fields">
        <form id="createconfigfile" name="createconfigfile" method="post" enctype="multipart/form-data" action="/broadside/app/GenerateConfigFile.action">
          <input type="hidden" name="appid" value="72">

          <!-- Metadata Section -->
          <div class="mt-4" style="background-color: #eae9ff;">
            <strong>Add Tags to Metadata</strong>
          </div>
          <div class="mt-4">
            <table id="metadataConstants"></table>
          </div>

          <!-- Configuration Fields -->
          <div class="row g-3 mb-3">
            <div class="col-md-4">
              <div class="form-floating">
                <input class="form-control" type="text" name="configFileName" id="configFileName" title="Allowed characters: a-z, A-Z, 0-9, -, _">
                <label class="custom-label"><span class="text-danger">*</span> Config File Name:</label>
              </div>
              <span id="configfile_err" class="errormsg"></span>
            </div>
            
            <div class="col-md-4">
              <div class="form-floating">
                <input class="form-control" type="text" name="templateFileRelativePath" id="templateFileRelativePath" title="Don't start or end with '/'">
                <label class="custom-label"><span class="text-danger">*</span> Template Relative Path:</label>
              </div>
              <span id="templateFileRelativePath_err" class="errormsg"></span>
            </div>
          </div>

          <div class="row g-3 mb-4">
            <div class="col-md-4">
              <label for="templateFile" class="form-label"><span class="text-danger">*</span> Template File:</label>
              <input class="form-control" type="file" name="templateFile" id="templateFile" style="border: 1px solid #B1B2B6; border-radius: 5px;">
              <span id="template_err" class="errormsg"></span>
            </div>
          </div>

          <!-- Email Fields -->
          <div class="row g-3 mb-4">
            <div class="col-md-4">
              <div class="form-floating">
                <input class="form-control" type="text" name="from" id="from">
                <label class="custom-label"><span class="text-danger">*</span> From:</label>
              </div>
              <span id="from_err" class="errormsg"></span>
            </div>
            <div class="col-md-4">
              <div class="form-floating">
                <input class="form-control" type="text" name="subject" id="subject">
                <label class="custom-label"><span class="text-danger">*</span> Subject:</label>
              </div>
              <span id="subject_err" class="errormsg"></span>
            </div>
          </div>

          <div class="row g-3 mb-4">
            <div class="col-md-4">
              <div class="form-floating">
                <input class="form-control" type="text" name="replyto" id="replyto">
                <label class="custom-label"><span class="text-danger">*</span> Reply To:</label>
              </div>
              <span id="replyto_err" class="errormsg"></span>
            </div>
            <div class="col-md-4">
              <div class="form-floating">
                <input class="form-control" type="text" name="attachmentDirectory" id="attachmentDirectory" title="Don't start or end with '/'">
                <label class="custom-label">Attachment Directory:</label>
              </div>
              <span id="attachmentDirectory_err" class="errormsg"></span>
            </div>
          </div>

          <!-- Namespace Section -->
          <div class="mt-4" style="background-color: #eae9ff;">
            <strong>Add Namespace</strong>
          </div>
          <div >
            <table id="namespaceConstants" class="table table-bordered"></table>
          </div>
          <div>
            <table id="namespaceColumns" class="table table-bordered"></table>
          </div>

          <!-- Tag Input Fields -->
          <div class="row g-3">
            <div class="col-md-4">
              <div class="form-floating">
                <input type="text" name="constantName" id="constantName" value="campid" class="form-control">
                <label class="custom-label">Tag Name</label>
              </div>
            </div>
            <div class="col-md-4">
              <div class="form-floating">
                <input type="text" name="constantValue" id="constantValue" class="form-control">
                <label class="custom-label">Tag Value</label>
              </div>
            </div>
            <div class="col-md-4 mt-4">
              <button type="button" id="tag-button" class="btn btn-primary" onclick="addConstantsToConfig('constantName','constantValue')">Add Tag</button>
            </div>
          </div>
          <div class="mt-3">
            <table id="constantsList" class="table table-bordered"></table>
          </div>

          <!-- Columns Input -->
          <div class="row g-3 mb-2">
            <div class="col-md-4">
              <div class="form-floating">
                <input type="text" name="column" id="column" class="form-control">
                <label class="custom-label"><span class="text-danger">*</span> Columns</label>
              </div>
            </div>
            <div class="col-md-4 mt-4">
              <button type="button" class="btn btn-primary" onclick="addColumn('column')">Add Columns</button>
            </div>
          </div>
          <div>
            <table id="columnsList" class="table table-bordered"></table>
          </div>

          <!-- Buttons -->
          <div class="row g-3">
            <div class="col-auto">
              <button type="button" class="btn btn-success" onclick="sendMyRequest('createconfigfile','72')">Generate Config File</button>
            </div>
            <div class="col-auto">
              <button type="reset" class="btn btn-secondary" onclick="clearConfigForm();">Reset</button>
            </div>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
